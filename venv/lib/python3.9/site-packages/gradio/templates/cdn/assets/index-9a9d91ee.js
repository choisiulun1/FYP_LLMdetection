import{S as K,e as X,s as x,f as S,g as f,h as B,j as b,n as V,k as M,t as ee,m as y,o as q,p as U,w as g,r as G,u as w,v as P,aj as je,F as D,G as E,H as N,af as He,C as Ve,ak as Re,al as Te,I as le,Q as ze,O as ye,E as W,R as Ge,N as T,M as Y,B as re,x as Pe,Z as De,ae as Ee,V as Ne,W as qe}from"./index-7c471b1f.js";import{u as oe,c as Ue}from"./utils-c3e3db58.js";import{g as fe,B as Ze,n as ue}from"./Button-a3a54fa0.js";import{S as Ae}from"./ShareButton-308df469.js";import{M as Fe}from"./StaticMarkdown-4378364a.js";import{C as Ie,a as Oe}from"./Copy-e9539d39.js";import{B as Qe}from"./BlockLabel-7214aa16.js";import"./IconButton-b052b8e2.js";function We(t){let e,i,n;return{c(){e=S("svg"),i=S("path"),n=S("path"),f(i,"fill","currentColor"),f(i,"d","M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z"),f(n,"fill","currentColor"),f(n,"d","M8 10h16v2H8zm0 6h10v2H8z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"aria-hidden","true"),f(e,"role","img"),f(e,"class","iconify iconify--carbon"),f(e,"width","100%"),f(e,"height","100%"),f(e,"preserveAspectRatio","xMidYMid meet"),f(e,"viewBox","0 0 32 32")},m(l,o){B(l,e,o),b(e,i),b(e,n)},p:V,i:V,o:V,d(l){l&&M(e)}}}class Ye extends K{constructor(e){super(),X(this,e,null,We,x,{})}}function Je(t){let e,i,n,l,o,a,r,s,u,_,c,m,j;return{c(){e=S("svg"),i=S("g"),n=S("g"),l=S("g"),o=S("title"),a=ee("dislike [#1388]"),r=S("desc"),s=ee("Created with Sketch."),u=S("defs"),_=S("g"),c=S("g"),m=S("g"),j=S("path"),f(i,"id","SVGRepo_bgCarrier"),f(i,"stroke-width","0"),f(n,"id","SVGRepo_tracerCarrier"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(j,"d","M101.900089,600 L99.8000892,600 L99.8000892,611.987622 L101.900089,611.987622 C103.060339,611.987622 104.000088,611.093545 104.000088,609.989685 L104.000088,601.997937 C104.000088,600.894077 103.060339,600 101.900089,600 M87.6977917,600 L97.7000896,600 L97.7000896,611.987622 L95.89514,618.176232 C95.6819901,619.491874 94.2455904,620.374962 92.7902907,619.842512 C91.9198408,619.52484 91.400091,618.66273 91.400091,617.774647 L91.400091,612.986591 C91.400091,612.43516 90.9296911,611.987622 90.3500912,611.987622 L85.8728921,611.987622 C84.0259425,611.987622 82.6598928,610.35331 83.0746427,608.641078 L84.8995423,602.117813 C85.1998423,600.878093 86.360092,600 87.6977917,600"),f(j,"id","dislike-[#1388]"),f(m,"id","icons"),f(m,"transform","translate(56.000000, 160.000000)"),f(c,"id","Dribbble-Light-Preview"),f(c,"transform","translate(-139.000000, -760.000000)"),f(c,"fill","currentColor"),f(_,"id","Page-1"),f(_,"stroke","none"),f(_,"stroke-width","1"),f(_,"fill","none"),f(_,"fill-rule","evenodd"),f(l,"id","SVGRepo_iconCarrier"),f(e,"viewBox","0 -3 32 32"),f(e,"height","100%"),f(e,"width","100%"),f(e,"version","1.1"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"fill","currentColor")},m(C,R){B(C,e,R),b(e,i),b(e,n),b(e,l),b(l,o),b(o,a),b(l,r),b(r,s),b(l,u),b(l,_),b(_,c),b(c,m),b(m,j)},p:V,i:V,o:V,d(C){C&&M(e)}}}class Ke extends K{constructor(e){super(),X(this,e,null,Je,x,{})}}function Xe(t){let e,i,n,l,o,a,r,s,u,_,c,m,j;return{c(){e=S("svg"),i=S("g"),n=S("g"),l=S("g"),o=S("title"),a=ee("like [#1385]"),r=S("desc"),s=ee("Created with Sketch."),u=S("defs"),_=S("g"),c=S("g"),m=S("g"),j=S("path"),f(i,"id","SVGRepo_bgCarrier"),f(i,"stroke-width","0"),f(n,"id","SVGRepo_tracerCarrier"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(j,"d","M203,620 L207.200006,620 L207.200006,608 L203,608 L203,620 Z M223.924431,611.355 L222.100579,617.89 C221.799228,619.131 220.638976,620 219.302324,620 L209.300009,620 L209.300009,608.021 L211.104962,601.825 C211.274012,600.775 212.223214,600 213.339366,600 C214.587817,600 215.600019,600.964 215.600019,602.153 L215.600019,608 L221.126177,608 C222.97313,608 224.340232,609.641 223.924431,611.355 L223.924431,611.355 Z"),f(j,"id","like-[#1385]"),f(m,"id","icons"),f(m,"transform","translate(56.000000, 160.000000)"),f(c,"id","Dribbble-Light-Preview"),f(c,"transform","translate(-259.000000, -760.000000)"),f(c,"fill","currentColor"),f(_,"id","Page-1"),f(_,"stroke","none"),f(_,"stroke-width","1"),f(_,"fill","none"),f(_,"fill-rule","evenodd"),f(l,"id","SVGRepo_iconCarrier"),f(e,"viewBox","0 0 32 32"),f(e,"height","100%"),f(e,"width","100%"),f(e,"version","1.1"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"fill","currentColor")},m(C,R){B(C,e,R),b(e,i),b(e,n),b(e,l),b(l,o),b(o,a),b(l,r),b(r,s),b(l,u),b(l,_),b(_,c),b(c,m),b(m,j)},p:V,i:V,o:V,d(C){C&&M(e)}}}class xe extends K{constructor(e){super(),X(this,e,null,Xe,x,{})}}const $e=async t=>(await Promise.all(t.map(async i=>await Promise.all(i.map(async(n,l)=>{if(n===null)return"";let o=l===0?"ðŸ˜ƒ":"ðŸ¤–",a="";if(typeof n=="string"){const r={audio:/<audio.*?src="(\/file=.*?)"/g,video:/<video.*?src="(\/file=.*?)"/g,image:/<img.*?src="(\/file=.*?)".*?\/>|!\[.*?\]\((\/file=.*?)\)/g};a=n;for(let[s,u]of Object.entries(r)){let _;for(;(_=u.exec(n))!==null;){const c=_[1]||_[2],m=await oe(c,"url");a=a.replace(c,m)}}}else{const r=await oe(n.data,"url");n.mime_type?.includes("audio")?a=`<audio controls src="${r}"></audio>`:n.mime_type?.includes("video")?a=r:n.mime_type?.includes("image")&&(a=`<img src="${r}" />`)}return`${o}: ${a}`}))))).map(i=>i.join(i[0]!==""&&i[1]!==""?`
`:"")).join(`
`);function _e(t){let e,i,n;return i=new Ie({}),{c(){e=y("span"),D(i.$$.fragment)},m(l,o){B(l,e,o),E(i,e,null),n=!0},i(l){n||(g(i.$$.fragment,l),n=!0)},o(l){w(i.$$.fragment,l),n=!1},d(l){l&&M(e),N(i)}}}function ce(t){let e,i,n;return i=new Oe({}),{c(){e=y("span"),D(i.$$.fragment)},m(l,o){B(l,e,o),E(i,e,null),n=!0},i(l){n||(g(i.$$.fragment,l),n=!0)},o(l){w(i.$$.fragment,l),n=!1},d(l){l&&M(e),N(i)}}}function el(t){let e,i,n,l,o,a=!t[0]&&_e(),r=t[0]&&ce();return{c(){e=y("button"),a&&a.c(),i=q(),r&&r.c(),f(e,"title","copy"),f(e,"class","svelte-jdgjqu")},m(s,u){B(s,e,u),a&&a.m(e,null),b(e,i),r&&r.m(e,null),n=!0,l||(o=U(e,"click",t[1]),l=!0)},p(s,[u]){s[0]?a&&(G(),w(a,1,1,()=>{a=null}),P()):a?u&1&&g(a,1):(a=_e(),a.c(),g(a,1),a.m(e,i)),s[0]?r?u&1&&g(r,1):(r=ce(),r.c(),g(r,1),r.m(e,null)):r&&(G(),w(r,1,1,()=>{r=null}),P())},i(s){n||(g(a),g(r),n=!0)},o(s){w(a),w(r),n=!1},d(s){s&&M(e),a&&a.d(),r&&r.d(),l=!1,o()}}}function ll(t,e,i){let n=!1,{value:l}=e,o;function a(){i(0,n=!0),o&&clearTimeout(o),o=setTimeout(()=>{i(0,n=!1)},2e3)}async function r(){if("clipboard"in navigator)await navigator.clipboard.writeText(l),a();else{const s=document.createElement("textarea");s.value=l,s.style.position="absolute",s.style.left="-999999px",document.body.prepend(s),s.select();try{document.execCommand("copy"),a()}catch(u){console.error(u)}finally{s.remove()}}}return je(()=>{o&&clearTimeout(o)}),t.$$set=s=>{"value"in s&&i(2,l=s.value)},[n,r,l]}class tl extends K{constructor(e){super(),X(this,e,ll,el,x,{value:2})}}function de(t,e,i){const n=t.slice();return n[32]=e[i],n[34]=i,n}function he(t,e,i){const n=t.slice();return n[35]=e[i],n[37]=i,n}function me(t){let e,i,n;return i=new Ae({props:{formatter:$e,value:t[0]}}),i.$on("error",t[24]),i.$on("share",t[25]),{c(){e=y("div"),D(i.$$.fragment),f(e,"class","icon-button svelte-1henpdt")},m(l,o){B(l,e,o),E(i,e,null),n=!0},p(l,o){const a={};o[0]&1&&(a.value=l[0]),i.$set(a)},i(l){n||(g(i.$$.fragment,l),n=!0)},o(l){w(i.$$.fragment,l),n=!1},d(l){l&&M(e),N(i)}}}function ge(t){let e,i,n=le(t[0]),l=[];for(let a=0;a<n.length;a+=1)l[a]=Ce(de(t,n,a));const o=a=>w(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=ze()},m(a,r){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,r);B(a,e,r),i=!0},p(a,r){if(r[0]&122843){n=le(a[0]);let s;for(s=0;s<n.length;s+=1){const u=de(a,n,s);l[s]?(l[s].p(u,r),g(l[s],1)):(l[s]=Ce(u),l[s].c(),g(l[s],1),l[s].m(e.parentNode,e))}for(G(),s=n.length;s<l.length;s+=1)o(s);P()}},i(a){if(!i){for(let r=0;r<n.length;r+=1)g(l[r]);i=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)w(l[r]);i=!1},d(a){a&&M(e),ye(l,a)}}}function be(t){let e,i,n;return{c(){e=y("div"),i=y("img"),f(i,"class","avatar-image svelte-1henpdt"),Y(i.src,n=fe(t[8][t[37]],t[11],t[12]))||f(i,"src",n),f(i,"alt","avatar-"+(t[37]==0?"user":"bot")),f(e,"class","avatar-container svelte-1henpdt")},m(l,o){B(l,e,o),b(e,i)},p(l,o){o[0]&6400&&!Y(i.src,n=fe(l[8][l[37]],l[11],l[12]))&&f(i,"src",n)},d(l){l&&M(e)}}}function we(t){let e,i,n,l,o,a,r,s,u;n=new xe({});function _(){return t[26](t[34],t[37],t[35])}a=new Ke({});function c(){return t[27](t[34],t[37],t[35])}return{c(){e=y("div"),i=y("button"),D(n.$$.fragment),l=q(),o=y("button"),D(a.$$.fragment),f(i,"class","svelte-1henpdt"),f(o,"class","svelte-1henpdt"),f(e,"class","like svelte-1henpdt")},m(m,j){B(m,e,j),b(e,i),E(n,i,null),b(e,l),b(e,o),E(a,o,null),r=!0,s||(u=[U(i,"click",_),U(o,"click",c)],s=!0)},p(m,j){t=m},i(m){r||(g(n.$$.fragment,m),g(a.$$.fragment,m),r=!0)},o(m){w(n.$$.fragment,m),w(a.$$.fragment,m),r=!1},d(m){m&&M(e),N(n),N(a),s=!1,re(u)}}}function ve(t){let e,i,n;return i=new tl({props:{value:t[35]}}),{c(){e=y("div"),D(i.$$.fragment),f(e,"class","icon-button svelte-1henpdt")},m(l,o){B(l,e,o),E(i,e,null),n=!0},p(l,o){const a={};o[0]&1&&(a.value=l[35]),i.$set(a)},i(l){n||(g(i.$$.fragment,l),n=!0)},o(l){w(i.$$.fragment,l),n=!1},d(l){l&&M(e),N(i)}}}function il(t){let e,i=(t[35].orig_name||t[35].name)+"",n,l,o;return{c(){e=y("a"),n=ee(i),f(e,"data-testid","chatbot-file"),f(e,"href",l=t[35].data),f(e,"target","_blank"),f(e,"download",o=window.__is_colab__?null:t[35].orig_name||t[35].name),f(e,"class","svelte-1henpdt")},m(a,r){B(a,e,r),b(e,n)},p(a,r){r[0]&1&&i!==(i=(a[35].orig_name||a[35].name)+"")&&Pe(n,i),r[0]&1&&l!==(l=a[35].data)&&f(e,"href",l),r[0]&1&&o!==(o=window.__is_colab__?null:a[35].orig_name||a[35].name)&&f(e,"download",o)},i:V,o:V,d(a){a&&M(e)}}}function nl(t){let e,i,n;return{c(){e=y("img"),f(e,"data-testid","chatbot-image"),Y(e.src,i=t[35].data)||f(e,"src",i),f(e,"alt",n=t[35].alt_text),f(e,"class","svelte-1henpdt")},m(l,o){B(l,e,o)},p(l,o){o[0]&1&&!Y(e.src,i=l[35].data)&&f(e,"src",i),o[0]&1&&n!==(n=l[35].alt_text)&&f(e,"alt",n)},i:V,o:V,d(l){l&&M(e)}}}function al(t){let e,i,n,l,o,a;return{c(){e=y("video"),i=y("track"),f(i,"kind","captions"),f(i,"class","svelte-1henpdt"),f(e,"data-testid","chatbot-video"),e.controls=!0,Y(e.src,n=t[35].data)||f(e,"src",n),f(e,"title",l=t[35].alt_text),f(e,"preload","auto"),f(e,"class","svelte-1henpdt")},m(r,s){B(r,e,s),b(e,i),o||(a=[U(e,"play",t[21]),U(e,"pause",t[22]),U(e,"ended",t[23])],o=!0)},p(r,s){s[0]&1&&!Y(e.src,n=r[35].data)&&f(e,"src",n),s[0]&1&&l!==(l=r[35].alt_text)&&f(e,"title",l)},i:V,o:V,d(r){r&&M(e),o=!1,re(a)}}}function sl(t){let e,i,n,l,o;return{c(){e=y("audio"),f(e,"data-testid","chatbot-audio"),e.controls=!0,f(e,"preload","metadata"),Y(e.src,i=t[35].data)||f(e,"src",i),f(e,"title",n=t[35].alt_text),f(e,"class","svelte-1henpdt")},m(a,r){B(a,e,r),l||(o=[U(e,"play",t[18]),U(e,"pause",t[19]),U(e,"ended",t[20])],l=!0)},p(a,r){r[0]&1&&!Y(e.src,i=a[35].data)&&f(e,"src",i),r[0]&1&&n!==(n=a[35].alt_text)&&f(e,"title",n)},i:V,o:V,d(a){a&&M(e),l=!1,re(o)}}}function rl(t){let e,i;return e=new Fe({props:{message:t[35],latex_delimiters:t[1],sanitize_html:t[9]}}),e.$on("load",t[14]),{c(){D(e.$$.fragment)},m(n,l){E(e,n,l),i=!0},p(n,l){const o={};l[0]&1&&(o.message=n[35]),l[0]&2&&(o.latex_delimiters=n[1]),l[0]&512&&(o.sanitize_html=n[9]),e.$set(o)},i(n){i||(g(e.$$.fragment,n),i=!0)},o(n){w(e.$$.fragment,n),i=!1},d(n){N(e,n)}}}function ke(t){let e,i,n,l,o,a,r,s,u,_,c,m,j,C,R,O,v=t[8][t[37]]!==null&&be(t),p=t[4]&&t[37]==1&&we(t),L=t[7]&&t[35]&&typeof t[35]=="string"&&ve(t);const Z=[rl,sl,al,nl,il],H=[];function A(z,k){return k[0]&1&&(r=null),k[0]&1&&(s=null),k[0]&1&&(u=null),typeof z[35]=="string"?0:(r==null&&(r=!!(z[35]!==null&&z[35].mime_type?.includes("audio"))),r?1:(s==null&&(s=!!(z[35]!==null&&z[35].mime_type?.includes("video"))),s?2:(u==null&&(u=!!(z[35]!==null&&z[35].mime_type?.includes("image"))),u?3:z[35]!==null&&z[35].data!==null?4:-1)))}~(_=A(t,[-1,-1]))&&(c=H[_]=Z[_](t));function J(){return t[28](t[34],t[37],t[35])}return{c(){e=y("div"),v&&v.c(),i=q(),n=y("div"),l=y("div"),p&&p.c(),o=q(),L&&L.c(),a=q(),c&&c.c(),j=q(),f(l,"class","message-buttons-"+(t[37]==0?"user":"bot")+" svelte-1henpdt"),T(l,"message-buttons-fit",!t[10]),T(l,"hide",t[35]===null),f(n,"data-testid",t[37]==0?"user":"bot"),f(n,"class","message "+(t[37]==0?"user":"bot")+" svelte-1henpdt"),f(n,"dir",m=t[6]?"rtl":"ltr"),T(n,"latest",t[34]===t[0].length-1),T(n,"message-fit",!t[10]),T(n,"selectable",t[3]),f(e,"class","message-row "+(t[37]==0?"user-row":"bot-row")+" svelte-1henpdt"),T(e,"hide",t[35]===null)},m(z,k){B(z,e,k),v&&v.m(e,null),b(e,i),b(e,n),b(n,l),p&&p.m(l,null),b(l,o),L&&L.m(l,null),b(n,a),~_&&H[_].m(n,null),b(e,j),C=!0,R||(O=U(n,"click",J),R=!0)},p(z,k){t=z,t[8][t[37]]!==null?v?v.p(t,k):(v=be(t),v.c(),v.m(e,i)):v&&(v.d(1),v=null),t[4]&&t[37]==1?p?(p.p(t,k),k[0]&16&&g(p,1)):(p=we(t),p.c(),g(p,1),p.m(l,o)):p&&(G(),w(p,1,1,()=>{p=null}),P()),t[7]&&t[35]&&typeof t[35]=="string"?L?(L.p(t,k),k[0]&129&&g(L,1)):(L=ve(t),L.c(),g(L,1),L.m(l,null)):L&&(G(),w(L,1,1,()=>{L=null}),P()),(!C||k[0]&1024)&&T(l,"message-buttons-fit",!t[10]),(!C||k[0]&1)&&T(l,"hide",t[35]===null);let Q=_;_=A(t,k),_===Q?~_&&H[_].p(t,k):(c&&(G(),w(H[Q],1,1,()=>{H[Q]=null}),P()),~_?(c=H[_],c?c.p(t,k):(c=H[_]=Z[_](t),c.c()),g(c,1),c.m(n,null)):c=null),(!C||k[0]&64&&m!==(m=t[6]?"rtl":"ltr"))&&f(n,"dir",m),(!C||k[0]&1)&&T(n,"latest",t[34]===t[0].length-1),(!C||k[0]&1024)&&T(n,"message-fit",!t[10]),(!C||k[0]&8)&&T(n,"selectable",t[3]),(!C||k[0]&1)&&T(e,"hide",t[35]===null)},i(z){C||(g(p),g(L),g(c),C=!0)},o(z){w(p),w(L),w(c),C=!1},d(z){z&&M(e),v&&v.d(),p&&p.d(),L&&L.d(),~_&&H[_].d(),R=!1,O()}}}function Ce(t){let e,i,n=le(t[32]),l=[];for(let a=0;a<n.length;a+=1)l[a]=ke(he(t,n,a));const o=a=>w(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=ze()},m(a,r){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,r);B(a,e,r),i=!0},p(a,r){if(r[0]&122843){n=le(a[32]);let s;for(s=0;s<n.length;s+=1){const u=he(a,n,s);l[s]?(l[s].p(u,r),g(l[s],1)):(l[s]=ke(u),l[s].c(),g(l[s],1),l[s].m(e.parentNode,e))}for(G(),s=n.length;s<l.length;s+=1)o(s);P()}},i(a){if(!i){for(let r=0;r<n.length;r+=1)g(l[r]);i=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)w(l[r]);i=!1},d(a){a&&M(e),ye(l,a)}}}function pe(t){let e;return{c(){e=y("div"),e.innerHTML=`<div class="dot-flashing svelte-1henpdt"></div>
				Â 
				<div class="dot-flashing svelte-1henpdt"></div>
				Â 
				<div class="dot-flashing svelte-1henpdt"></div>`,f(e,"class","message pending svelte-1henpdt")},m(i,n){B(i,e,n)},d(i){i&&M(e)}}}function ol(t){let e,i,n,l,o,a,r,s=t[5]&&t[0]!==null&&t[0].length>0&&me(t),u=t[0]!==null&&ge(t),_=t[2]&&pe();return{c(){s&&s.c(),e=q(),i=y("div"),n=y("div"),u&&u.c(),l=q(),_&&_.c(),f(n,"class","message-wrap svelte-1henpdt"),f(i,"class","wrap svelte-1henpdt")},m(c,m){s&&s.m(c,m),B(c,e,m),B(c,i,m),b(i,n),u&&u.m(n,null),b(n,l),_&&_.m(n,null),t[29](i),o=!0,a||(r=He(Ue.call(null,n)),a=!0)},p(c,m){c[5]&&c[0]!==null&&c[0].length>0?s?(s.p(c,m),m[0]&33&&g(s,1)):(s=me(c),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(G(),w(s,1,1,()=>{s=null}),P()),c[0]!==null?u?(u.p(c,m),m[0]&1&&g(u,1)):(u=ge(c),u.c(),g(u,1),u.m(n,l)):u&&(G(),w(u,1,1,()=>{u=null}),P()),c[2]?_||(_=pe(),_.c(),_.m(n,null)):_&&(_.d(1),_=null)},i(c){o||(g(s),g(u),o=!0)},o(c){w(s),w(u),o=!1},d(c){c&&(M(e),M(i)),s&&s.d(c),u&&u.d(),_&&_.d(),t[29](null),a=!1,r()}}}function fl(t,e,i){let{value:n}=e,l=null,{latex_delimiters:o}=e,{pending_message:a=!1}=e,{selectable:r=!1}=e,{likeable:s=!1}=e,{show_share_button:u=!1}=e,{rtl:_=!1}=e,{show_copy_button:c=!1}=e,{avatar_images:m=[null,null]}=e,{sanitize_html:j=!0}=e,{bubble_full_width:C=!0}=e,{root:R}=e,{root_url:O}=e,v,p;const L=Ve();Re(()=>{p=v&&v.offsetHeight+v.scrollTop>v.scrollHeight-100});const Z=()=>{p&&v.scrollTo(0,v.scrollHeight)};Te(()=>{p&&(Z(),v.querySelectorAll("img").forEach(h=>{h.addEventListener("load",()=>{Z()})}))});function H(h,F,I){L("select",{index:[h,F],value:I})}function A(h,F,I,Me){L("like",{index:[h,F],value:I,liked:Me})}function J(h){W.call(this,t,h)}function z(h){W.call(this,t,h)}function k(h){W.call(this,t,h)}function Q(h){W.call(this,t,h)}function te(h){W.call(this,t,h)}function ie(h){W.call(this,t,h)}function ne(h){W.call(this,t,h)}function ae(h){W.call(this,t,h)}const se=(h,F,I)=>A(h,F,I,!0),d=(h,F,I)=>A(h,F,I,!1),$=(h,F,I)=>H(h,F,I);function Be(h){Ge[h?"unshift":"push"](()=>{v=h,i(13,v)})}return t.$$set=h=>{"value"in h&&i(0,n=h.value),"latex_delimiters"in h&&i(1,o=h.latex_delimiters),"pending_message"in h&&i(2,a=h.pending_message),"selectable"in h&&i(3,r=h.selectable),"likeable"in h&&i(4,s=h.likeable),"show_share_button"in h&&i(5,u=h.show_share_button),"rtl"in h&&i(6,_=h.rtl),"show_copy_button"in h&&i(7,c=h.show_copy_button),"avatar_images"in h&&i(8,m=h.avatar_images),"sanitize_html"in h&&i(9,j=h.sanitize_html),"bubble_full_width"in h&&i(10,C=h.bubble_full_width),"root"in h&&i(11,R=h.root),"root_url"in h&&i(12,O=h.root_url)},t.$$.update=()=>{t.$$.dirty[0]&131073&&n!==l&&(i(17,l=n),L("change"))},[n,o,a,r,s,u,_,c,m,j,C,R,O,v,Z,H,A,l,J,z,k,Q,te,ie,ne,ae,se,d,$,Be]}class ul extends K{constructor(e){super(),X(this,e,fl,ol,x,{value:0,latex_delimiters:1,pending_message:2,selectable:3,likeable:4,show_share_button:5,rtl:6,show_copy_button:7,avatar_images:8,sanitize_html:9,bubble_full_width:10,root:11,root_url:12},null,[-1,-1])}}function Le(t){let e,i;const n=[t[20],{show_progress:t[20].show_progress==="hidden"?"hidden":"minimal"}];let l={};for(let o=0;o<n.length;o+=1)l=De(l,n[o]);return e=new Ee({props:l}),{c(){D(e.$$.fragment)},m(o,a){E(e,o,a),i=!0},p(o,a){const r=a&1048576?Ne(n,[qe(o[20]),{show_progress:o[20].show_progress==="hidden"?"hidden":"minimal"}]):{};e.$set(r)},i(o){i||(g(e.$$.fragment,o),i=!0)},o(o){w(e.$$.fragment,o),i=!1},d(o){N(e,o)}}}function Se(t){let e,i;return e=new Qe({props:{show_label:t[7],Icon:Ye,float:!1,label:t[6]||"Chatbot"}}),{c(){D(e.$$.fragment)},m(n,l){E(e,n,l),i=!0},p(n,l){const o={};l&128&&(o.show_label=n[7]),l&64&&(o.label=n[6]||"Chatbot"),e.$set(o)},i(n){i||(g(e.$$.fragment,n),i=!0)},o(n){w(e.$$.fragment,n),i=!1},d(n){N(e,n)}}}function _l(t){let e,i,n,l,o,a=t[20]&&Le(t),r=t[7]&&Se(t);return l=new ul({props:{selectable:t[10],likeable:t[11],show_share_button:t[12],value:t[22],latex_delimiters:t[17],pending_message:t[20]?.status==="pending",rtl:t[13],show_copy_button:t[14],avatar_images:t[19],sanitize_html:t[15],bubble_full_width:t[16],root_url:t[9],root:t[8]}}),l.$on("change",t[23]),l.$on("select",t[24]),l.$on("like",t[25]),l.$on("share",t[26]),l.$on("error",t[27]),{c(){a&&a.c(),e=q(),i=y("div"),r&&r.c(),n=q(),D(l.$$.fragment),f(i,"class","wrapper svelte-nab2ao")},m(s,u){a&&a.m(s,u),B(s,e,u),B(s,i,u),r&&r.m(i,null),b(i,n),E(l,i,null),o=!0},p(s,u){s[20]?a?(a.p(s,u),u&1048576&&g(a,1)):(a=Le(s),a.c(),g(a,1),a.m(e.parentNode,e)):a&&(G(),w(a,1,1,()=>{a=null}),P()),s[7]?r?(r.p(s,u),u&128&&g(r,1)):(r=Se(s),r.c(),g(r,1),r.m(i,n)):r&&(G(),w(r,1,1,()=>{r=null}),P());const _={};u&1024&&(_.selectable=s[10]),u&2048&&(_.likeable=s[11]),u&4096&&(_.show_share_button=s[12]),u&4194304&&(_.value=s[22]),u&131072&&(_.latex_delimiters=s[17]),u&1048576&&(_.pending_message=s[20]?.status==="pending"),u&8192&&(_.rtl=s[13]),u&16384&&(_.show_copy_button=s[14]),u&524288&&(_.avatar_images=s[19]),u&32768&&(_.sanitize_html=s[15]),u&65536&&(_.bubble_full_width=s[16]),u&512&&(_.root_url=s[9]),u&256&&(_.root=s[8]),l.$set(_)},i(s){o||(g(a),g(r),g(l.$$.fragment,s),o=!0)},o(s){w(a),w(r),w(l.$$.fragment,s),o=!1},d(s){s&&(M(e),M(i)),a&&a.d(s),r&&r.d(),N(l)}}}function cl(t){let e,i;return e=new Ze({props:{elem_id:t[0],elem_classes:t[1],visible:t[2],padding:!1,scale:t[4],min_width:t[5],height:t[21],allow_overflow:!1,$$slots:{default:[_l]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},m(n,l){E(e,n,l),i=!0},p(n,[l]){const o={};l&1&&(o.elem_id=n[0]),l&2&&(o.elem_classes=n[1]),l&4&&(o.visible=n[2]),l&16&&(o.scale=n[4]),l&32&&(o.min_width=n[5]),l&2097152&&(o.height=n[21]),l&543162312&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){i||(g(e.$$.fragment,n),i=!0)},o(n){w(e.$$.fragment,n),i=!1},d(n){N(e,n)}}}function dl(t,e,i){let{elem_id:n=""}=e,{elem_classes:l=[]}=e,{visible:o=!0}=e,{value:a=[]}=e,{scale:r=null}=e,{min_width:s=void 0}=e,{label:u}=e,{show_label:_=!0}=e,{root:c}=e,{root_url:m}=e,{selectable:j=!1}=e,{likeable:C=!1}=e,{show_share_button:R=!1}=e,{rtl:O=!1}=e,{show_copy_button:v=!1}=e,{sanitize_html:p=!0}=e,{bubble_full_width:L=!0}=e,{latex_delimiters:Z}=e,{gradio:H}=e,{avatar_images:A=[null,null]}=e,J;const z=d=>d.replace('src="/file',`src="${c}file`);let{loading_status:k=void 0}=e,{height:Q=400}=e;const te=()=>H.dispatch("change",a),ie=d=>H.dispatch("select",d.detail),ne=d=>H.dispatch("like",d.detail),ae=d=>H.dispatch("share",d.detail),se=d=>H.dispatch("error",d.detail);return t.$$set=d=>{"elem_id"in d&&i(0,n=d.elem_id),"elem_classes"in d&&i(1,l=d.elem_classes),"visible"in d&&i(2,o=d.visible),"value"in d&&i(3,a=d.value),"scale"in d&&i(4,r=d.scale),"min_width"in d&&i(5,s=d.min_width),"label"in d&&i(6,u=d.label),"show_label"in d&&i(7,_=d.show_label),"root"in d&&i(8,c=d.root),"root_url"in d&&i(9,m=d.root_url),"selectable"in d&&i(10,j=d.selectable),"likeable"in d&&i(11,C=d.likeable),"show_share_button"in d&&i(12,R=d.show_share_button),"rtl"in d&&i(13,O=d.rtl),"show_copy_button"in d&&i(14,v=d.show_copy_button),"sanitize_html"in d&&i(15,p=d.sanitize_html),"bubble_full_width"in d&&i(16,L=d.bubble_full_width),"latex_delimiters"in d&&i(17,Z=d.latex_delimiters),"gradio"in d&&i(18,H=d.gradio),"avatar_images"in d&&i(19,A=d.avatar_images),"loading_status"in d&&i(20,k=d.loading_status),"height"in d&&i(21,Q=d.height)},t.$$.update=()=>{t.$$.dirty&776&&i(22,J=a?a.map(([d,$])=>[typeof d=="string"?z(d):ue(d,c,m),typeof $=="string"?z($):ue($,c,m)]):[])},[n,l,o,a,r,s,u,_,c,m,j,C,R,O,v,p,L,Z,H,A,k,Q,J,te,ie,ne,ae,se]}class hl extends K{constructor(e){super(),X(this,e,dl,cl,x,{elem_id:0,elem_classes:1,visible:2,value:3,scale:4,min_width:5,label:6,show_label:7,root:8,root_url:9,selectable:10,likeable:11,show_share_button:12,rtl:13,show_copy_button:14,sanitize_html:15,bubble_full_width:16,latex_delimiters:17,gradio:18,avatar_images:19,loading_status:20,height:21})}}const Ll=hl;export{Ll as default};
//# sourceMappingURL=index-9a9d91ee.js.map
